var DataBind=function(t){"use strict";return t.Binder=function(t,e){function n(t){var e=a.querySelectorAll('[data-foreach$="in '+t+'"]');k(e,t),u(e);var n=a.querySelectorAll('[data-bind="'+t+'"]');m(n);var r=a.querySelectorAll('[data-class="'+t+'"]');l(r);var o=a.querySelectorAll('[data-class^="'+t+'("]');l(o)}function r(t,e){for(var n=[].slice.call(t),r=0;r<n.length;r++)for(var o=0;o<e.length;o++)n[r]===e[o]&&n.splice(r,1);return n}var o=e||window.document,a=o.querySelector("[data-scope="+t.scope+"]"),c={},i={};t.addValueChangedListener(n);var u=function(t){for(var e=0;e<t.length;e++){var n=t[e].querySelectorAll("[data-bind]");m(n);var r=t[e].querySelectorAll("[data-class]");l(r);var o=t[e].querySelectorAll("[data-click]");v(o);var c=a.querySelectorAll("[data-enter]");d(c)}},l=function(t){for(var e=0;e<t.length;e++)f(t[e])},f=function(e){var n=e.getAttribute("data-class"),r=c[n];r&&e.classList.remove(r);var o=t.get(n);c[n]=o,o&&e.classList.add(o)},s=function(){var t=a.querySelectorAll("[data-foreach]"),e=a.querySelectorAll("[data-foreach] [data-foreach]"),n=r(t,e);g(n),k(n);var o=a.querySelectorAll("[data-bind]");m(o);var c=a.querySelectorAll("[data-class]");l(c);var i=a.querySelectorAll("[data-click]");v(i);var u=a.querySelectorAll("[data-enter]");d(u)},d=function(t){for(var e=0;e<t.length;e++)h(t[e])},h=function(e){var n=e.getAttribute("data-enter");e.onkeydown=function(e){13===e.which&&t.invoke(n)}},v=function(t){for(var e=0;e<t.length;e++)p(t[e])},g=function(t){for(var e=0;e<t.length;e++){for(var n=[],r=0;r<t[e].children.length;r++)n.push(t[e].children[r].cloneNode(!0));var o=t[e].getAttribute("data-foreach"),a=o.split(" in ");i[o]={template:n,items:a[1].trim(),item:a[0].trim()}}},k=function(e){for(var n=0;n<e.length;n++){T(e[n]);for(var r=e[n].getAttribute("data-foreach"),o=i[r],a=t.get(o.items),c=0;c<a.length();c++)for(var u=0;u<o.template.length;u++){var l=o.template[u].cloneNode(!0);e[n].appendChild(l),x(l,"data-bind",o,c),x(l,"data-class",o,c),x(l,"data-click",o,c),x(l,"data-foreach",o,c)}}},T=function(t){for(;t.lastChild;)t.removeChild(t.lastChild)},x=function(t,e,n,r){var o=function(t){return t.replace(n.item,n.items+"["+r+"]")};if(t.hasAttribute(e)){var a=t.getAttribute(e),c=a.replace(new RegExp("^"+n.item+"(?=[.]|$)"),n.items+"["+r+"]").replace(new RegExp("[(,] *"+n.item+" *(?=[,)])","g"),o).replace(new RegExp(" in "+n.item+"$")," in "+n.items+"["+r+"]");t.setAttribute(e,c),"data-foreach"===e&&(g([t]),k([t]))}for(var i=0;i<t.children.length;i++)x(t.children[i],e,n,r)},p=function(e){var n=e.getAttribute("data-click");e.onclick=function(){t.invoke(n)}},m=function(t){for(var e=0;e<t.length;e++)S(t[e])},S=function(e){var n=e.getAttribute("data-bind"),r=t.get(n);void 0===r?t.attr(n,""):"checkbox"===e.type?(e.checked=r,e.onclick=function(){t.attr(n,e.checked)}):"radio"===e.type?(e.checked=r===e.value,e.onclick=function(){t.attr(n,e.value)}):"select"===e.tagName.toLowerCase()?(e.value=r,e.onchange=function(){t.attr(n,e.value)}):"text"===e.type||"textarea"===e.type?(e.value!==r&&(e.value=r),e.oninput=function(){t.attr(n,e.value)}):e.innerHTML=r};return{bind:s}},t}(DataBind||{}),DataBind=function(t){"use strict";return t.Model=function(t){function e(t){return o[t]}function n(t,e){o[t]=e}function r(t){c.forEach(function(e){e(t)}),a.hasOwnProperty(t)&&a[t].forEach(function(t){r(t)})}var o={},a={},c=[],i=new DataBind.Parser(r,e,n),u=function(t,e){i.attr(t,e)},l=function(t){return i.get(t)},f=function(t,e,n){n&&n.forEach(function(e){d(t,e)});for(var r=/this\.get\(['"]([^'"]+)['"]\)/g,a=r.exec(e.toString());null!=a;)d(t,a[1]),a=r.exec(e.toString());o[t]=e},s=function(t,e){o[t]=e},d=function(t,e){a[e]=a[e]||[],a[e].push(t)},h=function(t){c.push(t)};return{attr:u,get:l,computed:f,action:s,scope:t,addValueChangedListener:h,invoke:function(t){l(t)}}},t}(DataBind||{}),DataBind=function(t){"use strict";return t.Collection=function(t,e,n){var r=function(r){e.push(r),n(t)},o=function(){e.pop(),n(t)},a=function(r){e.forEach(function(t){r(t)}),n(t)},c=function(){e.length=0,n(t)};return{push:r,pop:o,value:e,length:function(){return e.length},forEach:a,clear:c}},t}(DataBind||{}),DataBind=function(t){"use strict";return t.Parser=function(t,e,n){var r=function(e,n){return Array.isArray(n)?new DataBind.Collection(e,n,t):n},o=function(t){for(var e=t.split("."),n=0;n<e.length;n++){var r=e[n].indexOf("][");if(r>=0){var o=e[n].substring(0,r+1),a=e[n].substring(r+1);e.splice(n,1),e.splice(n,0,o),e.splice(n+1,0,a)}}return e},a=function(t){var e=/\[([^\]]+)\]/;return e.exec(t)},c=function(t){var n=/^\d+$/;return n.test(t)?parseInt(t):e(t)},i=function(t,n){var r=t.currentToken().text;t.consume();var o=[];if("LPAREN"===t.currentToken().token){t.consume();for(var a="";t.hasNextToken()&&"RPAREN"!==t.currentToken().token;)"COMMA"===t.currentToken().token?(o.push(l(a)),a=""):a+=t.currentToken().text,t.consume();"RPAREN"===t.currentToken().token&&a&&o.push(l(a))}return e(r).apply(n,o)},u=function(t,n,r){return t.consume(),r?r[e(n)[t.currentToken().text]]:e(n)[t.currentToken().text]},l=function(t){for(var n=new DataBind.Lexer(t),o=null;n.hasNextToken();){if(n.consume(),"NUMBER"===n.currentToken().token)return parseInt(n.currentToken().text);if("LITERAL"===n.currentToken().token)return n.currentToken().text.replace(/'/g,"").replace(/"/g,"");if("ID"===n.currentToken().token)if("function"==typeof e(n.currentToken().text))o=i(n,this);else{var a=n.currentToken().text;if(n.consume(),"DOT"===n.currentToken().token)o=u(n,a,o);else if("LBRACK"===n.currentToken().token){n.consume();var l=c(n.currentToken().text);o=e(a)[l]}else o=r(a,e(a))}"DOT"===n.currentToken().token?(n.consume(),o=o[n.currentToken().text]):"LBRACK"===n.currentToken().token&&(n.consume(),o=o[c(n.currentToken().text)])}return r(t,o)},f=function(r,i,u,l,d){l=l||r,d=d||[];var h=o(r),v=h.slice(1,h.length).join("."),g=a(h[0]);if(null!==g){var k=h[0].substring(0,g.index),T=c(g[1]);""!==k&&d.push(k),void 0!==u?""===k?1===h.length?(u[T]=i,t(l),s(d)):f(v,i,u[T],l,d):f(v,i,u[k][T],l,d):1===h.length?(e(k)[T]=i,t(l),s(d)):f(v,i,e(k)[T],l,d)}else void 0!==u?1===h.length?(u[h[0]]=i,t(l),s(d)):f(v,i,u[h[0]],l):1===h.length?(n(r,i),t(r)):(void 0===e(h[0])&&n(h[0],{}),f(v,i,e(h[0]),l))},s=function(e){e.forEach(function(e){t(e)})};return{get:l,attr:f}},t}(DataBind||{}),DataBind=function(t){"use strict";return t.Lexer=function(t){var e={root:[[/\[/,"LBRACK"],[/\]/,"RBRACK"],[/[(]/,"LPAREN"],[/[)]/,"RPAREN"],[/,/,"COMMA"],[/['][^']*[']/,"LITERAL"],[/["][^"]*["]/,"LITERAL"],[/[a-zA-Z][a-zA-Z0-9]*/,"ID"],[/[0-9]+/,"NUMBER"],[/[.]/,"DOT"],[/\s+/,TokenJS.Ignore]]},n=new TokenJS.Lexer(t,e,!1),r=n.tokenize(),o=-1,a=function(){return o<r.length-1};return{currentToken:function(){return o<r.length?r[o]:TokenJS.EndOfStream},consume:function(){o++},hasNextToken:a}},t}(DataBind||{}),TokenJS=TokenJS||{};TokenJS.Ignore={toString:function(){return"Ignored rule"}},TokenJS.EndOfStream={toString:function(){return"End of token stream"}},TokenJS.SyntaxError=function(t){this.name="SyntaxError",this.message=t},TokenJS.StateError=function(t){this.name="StateError",this.message=t},TokenJS.Lexer=function(t,e,n){var r,o=e,a=t,c=0,i=n,u=function(t){if(!o.hasOwnProperty(t))throw new TokenJS.StateError("Missing state: '"+t+"'.");r=t};u("root");var l=function(){if(c>=a.length)return TokenJS.EndOfStream;for(var t=r,e=f(),n=0;n<e.length;n++){var o=e[n];if("function"!=typeof o.value)return v(o.matchText),o.value===TokenJS.Ignore?l():{text:o.matchText,token:o.value,index:o.index};var u=o.value.call(x,o.matchText);if(u===TokenJS.Ignore)return v(o.matchText),l();if(T(u))return v(o.matchText),{text:o.matchText,token:u,index:o.index};d(t)&&h()}return i?(c+=1,l()):void h()},f=function(){for(var t=[],e=o[r],n=0;n<e.length;n++){var i=e[n][0],u=i.exec(a.substring(c));u&&0===u.index&&t.push({matchText:u[0],value:e[n][1],index:c})}return s(t),t},s=function(t){t.sort(function(t,e){return t.matchText.length<e.matchText.length?1:t.matchText.length>e.matchText.length?-1:0})},d=function(t){return r!==t},h=function(){throw new TokenJS.SyntaxError("Invalid character '"+a[c]+"' at index "+(c+1))},v=function(t){c+=t.length},g=function(){c=0,r="root"},k=function(){g();for(var t=[],e=l();e!==TokenJS.EndOfStream;)t.push(e),e=l();return t},T=function(t){return"undefined"!=typeof t&&null!==t},x={state:u};return{getNextToken:l,tokenize:k,state:u,reset:g}};